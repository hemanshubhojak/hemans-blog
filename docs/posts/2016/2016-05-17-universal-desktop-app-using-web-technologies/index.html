<!DOCTYPE html>
<html>

<head>
    
    

    <title>heman's blog</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&family=Roboto+Mono:wght@300;400;600"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://hemans.blog/syntax.a832bd16b1d6afac69b94ca616a61d04b6ac9ffe41dd90333d406c1ebed2eddc.css" integrity="sha256-qDK9FrHWr6xpuUymFqYdBLasn/5B3ZAzPUBsHr7S7dw="
        media="screen">
    <link rel="stylesheet" href="https://hemans.blog/main.min.71aa65299931f19f62c8f84bcd6e1d1816d76d812742550ee1f608dc2cc30e42.css" integrity="sha256-caplKZkx8Z9iyPhLzW4dGBbXbYEnQlUO4fYI3CzDDkI=" media="screen">
</head>

<body>

    <div class="container">
        
<header class="site-header">
    <h2>
        <a href="https://hemans.blog/">heman's blog</a>
    </h2>
</header>


        <main>
            
<article>
    <header>
        <h1>
            Universal Desktop Apps using Web technologies
        </h1>
        <small>
            May 17, 2016 &middot; 4 minute read
        </small>
    </header>
    <div>
        <p><a href="http://electron.atom.io">Electron</a> is a framework for creating native desktop applications using web technologies like HTML, CSS and JavaScript.</p>
<p>A lot of popular desktop applications are built using GitHub&rsquo;s Electron, like <a href="https://code.visualstudio.com/">Visual Studio Code</a>, <a href="https://slack.com/">Slack</a>, <a href="https://atom.io/">Atom</a>, etc.</p>
<p>Electron apps are like NodeJS applications bundled with a minimal Chromium browser and uses web pages for UI.</p>
<p>Let&rsquo;s see how we can quickly setup our environment and build a &ldquo;Hello World&rdquo; electron app.</p>
<h3 id="application-structure">Application structure</h3><p>Electron apps are generally structured like this,</p>
<ul>
<li>app-name\
<ul>
<li>package.json</li>
<li>main.js</li>
<li>index.html</li>
</ul>
</li>
</ul>
<p>The <code>package.json</code> contains information about the app and it follows the exact format of a NodeJS app&rsquo;s <code>package.json</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">{
    &#34;name&#34;: &#34;hello-electron&#34;,
    &#34;version&#34;: &#34;1.0.0&#34;,
    &#34;main&#34;: &#34;main.js&#34;
}
</code></pre></div><p>The <code>main.js</code> is the startup file. If we do not specify a name Electron will look for a <code>index.js</code> instead.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">)</span>
<span class="c1">// Module to control application life.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span>
<span class="c1">// Module to create native browser window.
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span>

<span class="c1">// Keep a global reference of the window object, if you don&#39;t, the window will
</span><span class="c1">// be closed automatically when the JavaScript object is garbage collected.
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">mainWindow</span>

<span class="kd">function</span> <span class="nx">createWindow</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Create the browser window.
</span><span class="c1"></span>  <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">})</span>

  <span class="c1">// and load the index.html of the app.
</span><span class="c1"></span>  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/index.html&#39;</span><span class="p">)</span>

  <span class="c1">// Open the DevTools.
</span><span class="c1"></span>  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">openDevTools</span><span class="p">()</span>

  <span class="c1">// Emitted when the window is closed.
</span><span class="c1"></span>  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Dereference the window object, usually you would store windows
</span><span class="c1"></span>    <span class="c1">// in an array if your app supports multi windows, this is the time
</span><span class="c1"></span>    <span class="c1">// when you should delete the corresponding element.
</span><span class="c1"></span>    <span class="nx">mainWindow</span> <span class="o">=</span> <span class="kc">null</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="c1">// This method will be called when Electron has finished
</span><span class="c1">// initialization and is ready to create browser windows.
</span><span class="c1">// Some APIs can only be used after this event occurs.
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="nx">createWindow</span><span class="p">)</span>

<span class="c1">// Quit when all windows are closed.
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;window-all-closed&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// On OS X it is common for applications and their menu bar
</span><span class="c1"></span>  <span class="c1">// to stay active until the user quits explicitly with Cmd + Q
</span><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">!==</span> <span class="s1">&#39;darwin&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;activate&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// On OS X it&#39;s common to re-create a window in the app when the
</span><span class="c1"></span>  <span class="c1">// dock icon is clicked and there are no other windows open.
</span><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="nx">mainWindow</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">createWindow</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// In this file you can include the rest of your app&#39;s specific main process
</span><span class="c1">// code. You can also put them in separate files and require them here.
</span></code></pre></div><p>The above script loads an <code>index.html</code> file and opens the developer tools.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Hello Electron<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello Electron!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div><h3 id="running-the-application">Running the application</h3><p>We need the Electron binary to run our application. Let&rsquo;s install the binaries using <code>npm</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">npm install -g electron-prebuilt --save-dev
</code></pre></div><p>This command will install the electron binaries globally and save it as a dev dependency for our application.</p>
<p>Once we have the Electron binaries we can run our application using the following command.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">electron .
</code></pre></div><h3 id="packaging-the-application">Packaging the application</h3><p>To distribute our application we need to package it. Quick and easy way to do that is to use the command line tool <a href="https://github.com/electron-userland/electron-packager">Electron Packager</a>.</p>
<p><code>electron-packager</code> can be installed gobally using <code>npm</code></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">npm install -g electron-packager
</code></pre></div><p>To package our app, simply run,</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">electron-packager . --platform=win32 --arch=ia32 --asar=true
</code></pre></div><p>This command packages our app as a 32 bit Windows application (<code>--platform=win32 --arch=ia32</code>).
Electron apps can be packaged as a Windows, Linux and Mac application.</p>
<p><code>asar</code> <em>(<a href="https://github.com/electron/asar">Electron Archive</a>)</em> is an archive format like <code>tar</code> but with indexing capabilities.</p>
<p>Specifying the option <code>--asar=true</code> will archive our application&rsquo;s source files in a single <code>.asar</code> file instead of packaging it as-is.</p>
<h3 id="in-closing">In closing&hellip;</h3><p>Creating desktop apps for all the major platforms <em>(Windows, Linux and Mac)</em> is very easy using Electron.</p>
<p>We can also use popular javascript frameworks like <a href="https://angularjs.org/">AngularJS</a>, <a href="http://jquery.com/">jQuery</a>, etc.</p>
<p>With some changes, an existing AngularJS application can also be packaged as a desktop app using Electron.</p>
<p><strong>References</strong></p>
<ul>
<li><a href="http://electron.atom.io/docs/tutorial/quick-start/">Electron Quick Start</a></li>
</ul>

    </div>
</article>

<aside>
    <nav>
        <ul>
            
            <li>
                <a href="https://hemans.blog/posts/2016/2016-05-12-simple-docker-container-running-http-server/">&#8592; Simple Docker container running a http server</a>
            </li>
            
            
            <li>
                <a href="https://hemans.blog/posts/2016/2016-06-09-keeping-feature-branch-insync-with-develop/">How to keep your feature branch in sync with your develop branch &#8594;</a>
            </li>
            
        </ul>
    </nav>
</aside>


        </main>

        
            <div class="profile">
    <img src="/images/profile-picture.jpg"/>
    <p>
        Personal blog of <strong>Hemanshu Bhojak</strong> aka <strong>heman</strong>.
        I write what I learn.
    </p>
</div>
        
    </div>

</body>

</html>